# í´ë¡œì € \(Closures\)

í´ë¡œì € \(Closure\)ëŠ” ì½”ë“œë¸”ëŸ­ìœ¼ë¡œ Cì™€ Objective-Cì˜ ë¸”ëŸ­\(blocks\)ê³¼ ë‹¤ë¥¸ ì–¸ì–´ì˜ ëŒë‹¤\(lambdas\)ì™€ ë¹„ìŠ· í•©ë‹ˆë‹¤. í´ë¡œì €ëŠ” ì–´ë–¤ ìƒìˆ˜ë‚˜ ë³€ìˆ˜ì˜ ì°¸ì¡°ë¥¼ ìº¡ì³\(capture\)í•´ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. SwiftëŠ” ì´ ìº¡ì³ì™€ ê´€ë ¨í•œ ëª¨ë“  ë©”ëª¨ë¦¬ë¥¼ ì•Œì•„ì„œ ì²˜ë¦¬í•©ë‹ˆë‹¤.

> ìº¡ì³ì˜ ê°œë…ì— ëŒ€í•´ ìµìˆ™í•˜ì§€ ì•Šë‹¤ê³  ê±±ì •í•˜ì§€ ì•Šìœ¼ì…”ë„ ë©ë‹ˆë‹¤. ê°’ ìº¡ì³ëŠ” ì•„ë˜ì—ì„œ ìì„¸íˆ ì„¤ëª…í•´ ë‘ì—ˆìŠµë‹ˆë‹¤.

ì „ì—­ í•¨ìˆ˜\(global functions\)ì™€ ì¤‘ì²© í•¨ìˆ˜\(nested function\)ì€ ì‹¤ì œ í´ë¡œì €ì˜ íŠ¹ë³„í•œ ê²½ìš°ì…ë‹ˆë‹¤. í´ë¡œì €ëŠ” ë‹¤ìŒ ì„¸ ê°€ì§€ í˜•íƒœ ì¤‘ í•˜ë‚˜ë¥¼ ê°–ìŠµë‹ˆë‹¤.

* ì „ì—­ í•¨ìˆ˜ : ì´ë¦„ì´ ìˆê³  ì–´ë–¤ ê°’ë„ ìº¡ì³í•˜ì§€ ì•ŠëŠ” í´ë¡œì €
* ì¤‘ì²© í•¨ìˆ˜ : ì´ë¦„ì´ ìˆê³  ê´€ë ¨í•œ í•¨ìˆ˜ë¡œ ë¶€í„° ê°’ì„ ìº¡ì³ í•  ìˆ˜ ìˆëŠ” í´ë¡œì €
* í´ë¡œì € í‘œí˜„ : ê²½ëŸ‰í™” ëœ ë¬¸ë²•ìœ¼ë¡œ ì“°ì—¬ì§€ê³  ê´€ë ¨ëœ ë¬¸ë§¥\(context\)ìœ¼ë¡œë¶€í„° ê°’ì„ ìº¡ì³í•  ìˆ˜ ìˆëŠ” ì´ë¦„ì´ ì—†ëŠ” í´ë¡œì €

Swiftì—ì„œ í´ë¡œì € í‘œí˜„ì€ ìµœì í™” ë˜ì–´ì„œ ê°„ê²°í•˜ê³  ëª…í™•í•©ë‹ˆë‹¤. ì´ ìµœì í™”ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ì„ í¬í•¨í•©ë‹ˆë‹¤.

* ë¬¸ë§¥\(context\)ì—ì„œ ì¸ì íƒ€ì…\(parameter type\)ê³¼ ë°˜í™˜ íƒ€ì…\(return type\)ì˜ ì¶”ë¡ 
* ë‹¨ì¼ í‘œí˜„ í´ë¡œì €ì—ì„œì˜ ì•”ì‹œì  ë°˜í™˜
* ì¶•ì•½ëœ ì¸ì ì´ë¦„
* í›„ìœ„ í´ë¡œì € ë¬¸ë²•

ìš©ì–´ê°€ ìƒì†Œí•´ ì–´ë µê²Œ ëŠë¼ì‹¤ ìˆ˜ ìˆì§€ë§Œ, í•˜ë‚˜í•˜ë‚˜ ëœ¯ì–´ë³´ë©´ ì–´ë µì§€ ì•Šê³  ì‰½ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‹ˆ ì«„ì§€ë§ˆì„¸ìš”.

## í´ë¡œì € í‘œí˜„ \(Closure Expressions\)

í´ë¡œì € í‘œí˜„ì€ ì¸ë¼ì¸ í´ë¡œì €ë¥¼ ëª…í™•í•˜ê²Œ í‘œí˜„í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ë¬¸ë²•ì— ì´ˆì²¨ì´ ë§ì¶°ì ¸ ìˆìŠµë‹ˆë‹¤. í´ë¡œì € í‘œí˜„ì€ ì½”ë“œì˜ ëª…í™•ì„±ê³¼ ì˜ë„ë¥¼ ìƒì§€ ì•Šìœ¼ë©´ì„œë„ ë¬¸ë²•ì„ ì¶•ì•½í•´ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë‹¤ì–‘í•œ ë¬¸ë²•ì˜ ìµœì í™” ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤.

### ì •ë ¬ ë©”ì†Œë“œ \(The Sorted Method\)

Swiftì˜ í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— `sorted(by:)`ë¼ëŠ” ì•Œë ¤ì§„ íƒ€ì…ì˜ ë°°ì—´ ê°’ì„ ì •ë ¬í•˜ëŠ” ë©”ì†Œë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì—¬ê¸° `by`ì— ì–´ë–¤ ë°©ë²•ìœ¼ë¡œ ì •ë ¬ì„ ìˆ˜í–‰í•  ê²ƒì¸ì§€ì— ëŒ€í•´ ê¸°ìˆ í•œ í´ë¡œì €ë¥¼ ë„£ìœ¼ë©´ ê·¸ ë°©ë²•ëŒ€ë¡œ ì •ë ¬ëœ ë°°ì—´ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. `sorted(by:)`ë©”ì†Œë“œëŠ” ì›ë³¸ ë°°ì—´ì€ ë³€ê²½í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì•„ë˜ì™€ ê°™ì´ ì´ë¦„ìœ¼ë¡œ êµ¬ì„±ëœ `names` ë°°ì—´ì„ `sorted(by:)`ë©”ì†Œë“œì™€ í´ë¡œì €ë¥¼ ì´ìš©í•´ ì •ë ¬í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```swift
let names = ["Chris", "Alex", "Ewa", "Barry", "Daniella"]
```

`sorted(by:)` ë©”ì†Œë“œëŠ” ë°°ì—´ì˜ ì½˜í…ì¸ ì™€ ê°™ì€ íƒ€ì…ì„ ê°–ê³  ë‘ê°œì˜ ì¸ìë¥¼ ê°–ëŠ” í´ë¡œì €ë¥¼ ì¸ìë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. `name`ì˜ ì½˜í…ì¸ ëŠ” String íƒ€ì…ì´ë¯€ë¡œ `(String, String) -> Bool` ì˜ íƒ€ì…ì˜ í´ë¡œì €ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

í´ë¡œì €ë¥¼ ì œê³µí•˜ëŠ” ì¼ë°˜ì ì¸ ë°©ë²•ì€ í•¨ìˆ˜ë¥¼ í•˜ë‚˜ ë§Œë“œëŠ” ê²ƒì…ë‹ˆë‹¤. ìœ„ íƒ€ì…ì„ ë§Œì¡± ì‹œí‚¤ëŠ” í•¨ìˆ˜ë¥¼ í•˜ë‚˜ ë§Œë“¤ë©´ ì •ë ¬ì— ì¸ìë¡œ ë„£ì„ ìˆ˜ ìˆëŠ” í´ë¡œì €ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
func backward(_ s1: String, _ s2: String) -> Bool {
    return s1 > s2
}
var reversedNames = names.sorted(by: backward)
// reversedNames is equal to ["Ewa", "Daniella", "Chris", "Barry", "Alex"]
```

`backward`í´ë¡œì €ë¥¼ ë§Œë“¤ê³  ê·¸ê²ƒì„ `names.sorted(by: backward)`ì— ë„£ìœ¼ë©´ ì›ë³¸ ë°°ì—´ì˜ ìˆœì„œê°€ ë°”ë€ ë°°ì—´ì„ ì •ë ¬ ê²°ê³¼ë¡œ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¹„êµí•˜ëŠ” í´ë¡œì €ë¥¼ ì‚¬ìš©í•˜ëŠ”ë° ì œë²• ê¸´ ì½”ë“œë¥¼ ì‚¬ìš©í–ˆëŠ”ë°, ì•ìœ¼ë¡œ í´ë¡œì €ì˜ ë‹¤ì–‘í•œ ë¬¸ë²• ë° ì‚¬ìš©ì— ëŒ€í•´ ì•Œì•„ ë³´ê² ìŠµë‹ˆë‹¤.

### í´ë¡œì € í‘œí˜„ ë¬¸ë²• \(Closure Expression Syntax\)

í´ë¡œì € í‘œí˜„ ë¬¸ë²•ì€ ì¼ë°˜ì ìœ¼ë¡œ ì•„ë˜ì˜ í˜•íƒœë¥¼ ë±ë‹ˆë‹¤.

```swift
{ (parameters) -> return type in
    statements
}
```

ì¸ìë¡œ ë„£ì„ `parameters`, ì¸ì ê°’ìœ¼ë¡œ ì²˜ë¦¬í•  ë‚´ìš©ì„ ê¸°ìˆ í•˜ëŠ” `statements` ê·¸ë¦¬ê³  `return type`ì…ë‹ˆë‹¤. ì•ì˜ `backward`í´ë¡œì €ë¥¼ ì´ìš©í•´ ë°°ì—´ì„ ì •ë ¬í•˜ëŠ” ì½”ë“œëŠ” í´ë¡œì € í‘œí˜„ì„ ì´ìš©í•´ ë‹¤ìŒê³¼ ê°™ì´ ë°”ê¿€ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
reversedNames = names.sorted(by: { (s1: String, s2: String) -> Bool in
    return s1 > s2
})
```

ì´ë ‡ê²Œ í•¨ìˆ˜ë¡œ ë”°ë¡œ ì •ì˜ëœ í˜•íƒœê°€ ì•„ë‹Œ ì¸ìë¡œ ë“¤ì–´ê°€ ìˆëŠ” í˜•íƒœì˜ í´ë¡œì €ë¥¼ `ì¸ë¼ì¸ í´ë¡œì €`ë¼ ë¶€ë¦…ë‹ˆë‹¤. í´ë¡œì €ì˜ ëª¸í†µ\(body\)ì€ `in` í‚¤ì›Œë“œ ë‹¤ìŒì— ì‹œì‘í•©ë‹ˆë‹¤. ì‚¬ìš©í•  ì¸ì ê°’ê³¼\(parameters\) ë°˜í™˜ íƒ€ì…\(return type\)ì„ ì•Œì•˜ìœ¼ë‹ˆ ì´ì œ ê·¸ê²ƒë“¤ì„ ì ì ˆíˆ ì²˜ë¦¬í•´ ë„˜ê²¨ ì¤„ ìˆ˜ ìˆë‹¤ëŠ” ëœ»ì´ì£ . í´ë¡œì €ì˜ `body`ê°€ ì§§ìœ¼ë‹ˆ ì•„ë˜ì™€ ê°™ì´ í•œì¤„ì— ì ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```swift
reversedNames = names.sorted(by: { (s1: String, s2: String) -> Bool in return s1 > s2 } )
```

### ë¬¸ë§¥ì—ì„œ íƒ€ì… ì¶”ë¡  \(Inferring Type From Context\)

ìœ„ ì˜ˆì œì—ì„œ ì •ë ¬ í´ë¡œì €ëŠ” String ë°°ì—´ì—ì„œ `sorted(by:)` ë©”ì†Œë“œì˜ ì¸ìë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤. `sorted(by:)`ì˜ ë©”ì†Œë“œì—ì„œ ì´ë¯¸ `(String, String) -> Bool` íƒ€ì…ì˜ ì¸ìê°€ ë“¤ì–´ì™€ì•¼ í•˜ëŠ”ì§€ ì•Œê¸° ë•Œë¬¸ì— í´ë¡œì €ì—ì„œ ì´ íƒ€ì…ë“¤ì€ ìƒëµ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ìœ„ í•¨ìˆ˜ëŠ” ë” ìƒëµí•œ í˜•íƒœë¡œ ì•„ë˜ì™€ ê°™ì´ ê¸°ìˆ  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
reversedNames = names.sorted(by: { s1, s2 in return s1 > s2 } )
```

ìœ„ì™€ ê°™ì´ í´ë¡œì €ì˜ ì¸ì ê°’ê³¼ ë°˜í™˜ íƒ€ì…ì„ ìƒëµí•  ìˆ˜ ìˆì§€ë§Œ, ê°€ë…ì„±ê³¼ ì½”ë“œì˜ ëª¨í˜¸ì„±ì„ í”¼í•˜ê¸° ìœ„í•´ íƒ€ì…ì„ ëª…ì‹œí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

### ë‹¨ì¼ í‘œí˜„ í´ë¡œì €ì—ì„œì˜ ì•”ì‹œì  ë°˜í™˜ \(Implicit Returns from Single-Express Closures\)

ë‹¨ì¼ í‘œí˜„ í´ë¡œì €ì—ì„œëŠ” ë°˜í™˜ í‚¤ì›Œë“œë¥¼ ìƒëµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
reversedNames = names.sorted(by: { s1, s2 in s1 > s2 } )
```

ì´ë ‡ê²Œ í‘œí˜„í•´ë„ ì–´ë– í•œ ëª¨í˜¸ì„±ë„ ì—†ìŠµë‹ˆë‹¤. s1ê³¼ s2ë¥¼ ì¸ìë¡œ ë°›ì•„ ê·¸ ë‘ ê°’ì„ ë¹„êµí•œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

### ì¸ì ì´ë¦„ ì¶•ì•½ \(Shorthand Arguments Names\)

SwiftëŠ” ì¸ë¼ì¸ í´ë¡œì €ì— ìë™ìœ¼ë¡œ ì¶•ì•½ ì¸ì ì´ë¦„ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ ì¸ ìë¥¼ ì‚¬ìš©í•˜ë©´ ì¸ì ê°’ì„ ìˆœì„œëŒ€ë¡œ $0, $1, $2 ë“±ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¶•ì•½ ì¸ì ì´ë¦„ì„ ì‚¬ìš©í•˜ë©´ ì¸ì ê°’ê³¼ ê·¸ ì¸ìë¡œ ì²˜ë¦¬í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ì¸ìê°€ ê°™ë‹¤ëŠ” ê²ƒì„ ì•Œê¸° ë•Œë¬¸ì— ì¸ìë¥¼ ì…ë ¥ ë°›ëŠ” ë¶€ë¶„ê³¼ `in` í‚¤ì›Œë“œ ë¶€ë¶„ì„ ìƒëµ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë©´ ì´ëŸ° í˜•íƒœë¡œ ì¶•ì•½ ê°€ëŠ¥í•©ë‹ˆë‹¤.

```swift
reversedNames = names.sorted(by: { $0 > $1 } )
```

ì¶•ì•½ì€ ë˜ì—ˆì§€ë§Œ ë…¼ë¦¬ë¥¼ í‘œí˜„í•˜ëŠ”ë°ëŠ” ì§€ì¥ì´ ì—†ìŠµë‹ˆë‹¤. ì¸ë¼ì¸ í´ë¡œì €ì— ìƒëµëœ ë‚´ìš©ì„ í¬í•¨í•´ ì„¤ëª…í•˜ë©´ 1. $0ê³¼ $1 ì¸ìë¥¼ ë‘ê°œ ë°›ì•„ì„œ 2. $0ì´ $1 ë³´ë‹¤ í°ì§€ë¥¼ ë¹„êµí•˜ê³  3. ê·¸ ê²°ê³¼\(Bool\)ë¥¼ ë°˜í™˜í•´ë¼. ì…ë‹ˆë‹¤.

### ì—°ì‚°ì ë©”ì†Œë“œ \(Operator Methods\)

ì¶•ì•½ì´ ì´ê²Œ ëì¸ì¤„ ì•„ì…¨ê² ì§€ë§Œ ì•„ë‹™ë‹ˆë‹¤. ğŸ˜‰ ì—¬ê¸°ì„œ ë” ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. Swiftì˜ `String` íƒ€ì… ì—°ì‚°ìì—ëŠ” `String`ë¼ë¦¬ ë¹„êµí•  ìˆ˜ ìˆëŠ” ë¹„êµ ì—°ì‚°ì\(&gt;\) ë¥¼ êµ¬í˜„í•´ ë‘ì—ˆìŠµë‹ˆë‹¤. ì´ ë•Œë¬¸ì— ê·¸ëƒ¥ ì´ ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.

```swift
reversedNames = names.sorted(by: >)
```

ë” ë§ì€ ì •ë³´ëŠ” **ì—°ì‚°ì ë©”ì†Œë“œ**ë¥¼ ì°¸ì¡°í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.

## í›„ìœ„ í´ë¡œì € \(Trailing Closures\)

ë§Œì•½ í•¨ìˆ˜ì˜ ë§ˆì§€ë§‰ ì¸ìë¡œ í´ë¡œì €ë¥¼ ë„£ê³  ê·¸ í´ë¡œì €ê°€ ê¸¸ë‹¤ë©´ í›„ìœ„ í´ë¡œì €ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ° í˜•íƒœì˜ í•¨ìˆ˜ì™€ í´ë¡œì €ê°€ ìˆë‹¤ë©´

```swift
func someFunctionThatTakesAClosure(closure: () -> Void) {
    // function body goes here
}
```

ìœ„ í´ë¡œì €ì˜ ì¸ì ê°’ ì…ë ¥ ë¶€ë¶„ê³¼ ë°˜í™˜ í˜• ë¶€ë¶„ì„ ìƒëµí•´ ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„í•  ìˆ˜ ìˆê³ 

```swift
someFunctionThatTakesAClosure(closure: {
    // closure's body goes here
})
```

ì´ê²ƒì„ í›„ìœ„ í´ë¡œì €ë¡œ í‘œí˜„í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•¨ìˆ˜ë¥¼ ëŒ€ê´„í˜¸ \( {, } \)ë¡œ ë¬¶ì–´ ê·¸ ì•ˆì— ì²˜ë¦¬í•  ë‚´ìš©ì„ ì ìœ¼ë©´ ë©ë‹ˆë‹¤. ëª¨ë¥´ê³  ì‚¬ìš©í•˜ì…¨ë‹¤ë©´ ì´ëŸ° ì¼ë°˜ì ì¸ ì „ì—­í•¨ìˆ˜ í˜•íƒœê°€ ì‚¬ì‹¤ í´ë¡œì €ë¥¼ ì‚¬ìš©í•˜ê³  ìˆë˜ ê²ƒì´ì—ˆìŠµë‹ˆë‹¤. ğŸ˜‰

```swift
someFunctionThatTakesAClosure() {
    // trailing closure's body goes here
}
```

ì•ì˜ ì •ë ¬ ì˜ˆì œë¥¼ í›„ìœ„ í´ë¡œì €ë¥¼ ì´ìš©í•´ í‘œí˜„í•˜ë©´ ì´ë ‡ê²Œ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
reversedNames = names.sorted() { $0 > $1 }
```

ë§Œì•½ í•¨ìˆ˜ì˜ ë§ˆì§€ë§‰ ì¸ìê°€ í´ë¡œì €ì´ê³  í›„ìœ„ í´ë¡œì €ë¥¼ ì‚¬ìš©í•˜ë©´ ê´„í˜¸`()`ë¥¼ ìƒëµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
reversedNames = names.sorted { $0 > $1 }
```

ì´ë²ˆì—ëŠ” í›„ìœ„ í´ë¡œì €ë¥¼ ì´ìš©í•´ ìˆ«ì\(Int\)ë¥¼ ë¬¸ì\(String\)ë¡œ ë§¤í•‘\(Mapping\)í•˜ëŠ” ì˜ˆì œë¥¼ ì‚´í´ ë³´ê² ìŠµë‹ˆë‹¤. ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ìì™€ ìˆ«ìê°€ ìˆìŠµë‹ˆë‹¤.

```swift
let digitNames = [
    0: "Zero", 1: "One", 2: "Two",   3: "Three", 4: "Four",
    5: "Five", 6: "Six", 7: "Seven", 8: "Eight", 9: "Nine"
]
let numbers = [16, 58, 510]
```

ì´ ê°’ì„ ë°°ì—´ì˜ `map(_:)`ë©”ì†Œë“œë¥¼ ì´ìš©í•´ íŠ¹ì • ê°’ì„ ë‹¤ë¥¸ íŠ¹ì • ê°’ìœ¼ë¡œ ë§¤í•‘í•˜ëŠ” í•  ìˆ˜ ìˆëŠ” í´ë¡œì €ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.

```swift
let strings = numbers.map { (number) -> String in
    var number = number
    var output = ""
    repeat {
        output = digitNames[number % 10]! + output
        number /= 10
    } while number > 0
    return output
}
// let stringsëŠ” íƒ€ì… ì¶”ë¡ ì— ì˜í•´ ë¬¸ì ë°°ì—´([String])íƒ€ì…ì„ ê°–ìŠµë‹ˆë‹¤.
// ê²°ê³¼ëŠ” ìˆ«ìê°€ ë¬¸ìë¡œ ë°”ë€ ["OneSix", "FiveEight", "FiveOneZero"]ê°€ ë©ë‹ˆë‹¤.
```

ìœ„ ì½”ë“œëŠ” ê° ìë¦¬ìˆ˜ë¥¼ êµ¬í•´ì„œ ê·¸ ìë¦¬ìˆ˜ë¥¼ ë¬¸ìë¡œ ë³€í™˜í•˜ê³ , 10ìœ¼ë¡œ ë‚˜ëˆ ì„œ ìë¦¬ìˆ˜ë¥¼ ë°”ê¾¸ë©° ë¬¸ìë¡œ ë³€í™˜í•˜ëŠ” ê²ƒì„ ë°˜ë³µí•©ë‹ˆë‹¤. ì´ ê³¼ì •ì„ í†µí•´ ìˆ«ì ë°°ì—´ì„, ë¬¸ì ë°°ì—´ë¡œ ë°”ê¿€ ìˆ˜ ìˆìŠµë‹ˆë‹¤. `number`ê°’ì€ ìƒìˆ˜ì¸ë°, ì´ ìƒìˆ˜ ê°’ì„ í´ë¡œì € ì•ˆì—ì„œ ë³€ìˆ˜ `var`ë¡œ ì¬ì •ì˜ í–ˆê¸° ë•Œë¬¸ì— `number`ê°’ì˜ ë³€í™˜ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ í•¨ìˆ˜ì™€ í´ë¡œì €ì— ë„˜ê²¨ì§€ëŠ” ì¸ì ê°’ì€ ìƒìˆ˜ì…ë‹ˆë‹¤.

> `digitNames[number % 10]!`ì— ë’¤ì— ëŠë‚Œí‘œ\(!\)ê°€ ë¶™ì–´ìˆëŠ” ê²ƒì€ ì‚¬ì „\(dictionary\)ì˜ `subscript`ëŠ” ì˜µì…”ë„ì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì¦‰, ì‚¬ì „ì—ì„œ íŠ¹ì • `key`ì— ëŒ€í•œ ê°’ì€ ìˆì„ ìˆ˜ë„ ìˆê³  ì—†ì„ ìˆ˜ë„ ìˆê¸° ë•Œë¬¸ì— ë…¼ë¦¬ì ìœ¼ë¡œ ë‹¹ì—°í•œ ì¼ì…ë‹ˆë‹¤.

## ê°’ ìº¡ì³ \(Capturing Values\)

í´ë¡œì €ëŠ” íŠ¹ì • ë¬¸ë§¥ì˜ ìƒìˆ˜ë‚˜ ë³€ìˆ˜ì˜ ê°’ì„ ìº¡ì³í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ì‹œë§í•´ ì›ë³¸ ê°’ì´ ì‚¬ë¼ì ¸ë„ í´ë¡œì ¸ì˜ `body`ì•ˆì—ì„œ ê·¸ ê°’ì„ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Swiftì—ì„œ ê°’ì„ ìº¡ì³ í•˜ëŠ” ê°€ì¥ ë‹¨ìˆœí•œ í˜•íƒœëŠ” `ì¤‘ì²© í•¨ìˆ˜(nested function)` ì…ë‹ˆë‹¤. ì¤‘ì²© í•¨ìˆ˜ëŠ” í•¨ìˆ˜ì˜ bodyì—ì„œ ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ ë‹¤ì‹œ í˜¸ì¶œí•˜ëŠ” í˜•íƒœë¡œ ëœ í•¨ìˆ˜ ì…ë‹ˆë‹¤. ì˜ˆì œë¥¼ ë³´ê² ìŠµë‹ˆë‹¤.

```swift
func makeIncrementer(forIncrement amount: Int) -> () -> Int {
    var runningTotal = 0
    func incrementer() -> Int {
        runningTotal += amount
        return runningTotal
    }
    return incrementer
}
```

ì´ í•¨ìˆ˜ëŠ” `makeIncrementer` í•¨ìˆ˜ ì•ˆì—ì„œ `incrementer`í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” í˜•íƒœë¡œ ì¤‘ì²© í•¨ìˆ˜ì…ë‹ˆë‹¤. í´ë¡œì €ì˜ ì¸ìì™€ ë°˜í™˜ ê°’ì´ ë³´í†µì˜ ê²½ìš°ì™€ ë‹¬ë¼ ì–´ë µê²Œ ë³´ì¼ ìˆ˜ ìˆëŠ”ë°, ì´ê²ƒë„ ì—­ì‹œ ìª¼ê°œ ë³´ë©´ ì–´ë µì§€ ì•ŠìŠµë‹ˆë‹¤.ì¸ìì™€ ë°˜í™˜ ê°’ `(forIncrement amount: Int) -> () -> Int` ì¤‘ì— ì²˜ìŒ `->` ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì•ì˜ `(forIncrement amount: Int)` ë¶€ë¶„ì´ ì¸ì ê°’ì´ê³  ë’¤ `() -> Int`ëŠ” ë°˜í™˜ ê°’ì…ë‹ˆë‹¤. ê·¸ë ‡ìŠµë‹ˆë‹¤. ì´ê²ƒì€ ë°˜í™˜ ê°’ì´ í´ë¡œì €ì¸ í˜•íƒœì…ë‹ˆë‹¤. ë°˜í™˜ ê°’ì„ ì¸ìê°€ ì—†ê³  `Int`í˜•ì˜ í´ë¡œì €ë¥¼ ë°˜í™˜í•œë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤. í•¨ìˆ˜ ì•ˆì˜ `incrementer`í•¨ìˆ˜ë§Œ ë”°ë¡œ ë³´ê² ìŠµë‹ˆë‹¤.

```swift
func incrementer() -> Int {
    runningTotal += amount
    return runningTotal
}
```

`runningTotal`ê³¼ `amount`ë„ ì—†ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ í•¨ìˆ˜ëŠ” ëŒì•„ê°‘ë‹ˆë‹¤. ê·¸ê²ƒì€ `runningTotal`ê³¼ `amount`ê°€ ìº¡ì³ë§ ë˜ì„œ ê·¸ëŸ° ê²ƒ ì…ë‹ˆë‹¤.

> ìµœì í™” ì´ìœ ë¡œ SwiftëŠ” ë§Œì•½ ë” ì´ìƒ í´ë¡œì €ì— ì˜í•´ ê°’ì´ ì‚¬ìš©ë˜ì§€ ì•Šìœ¼ë©´ ê·¸ ê°’ì„ ë³µì‚¬í•´ ì €ì¥í•˜ê±°ë‚˜ ìº¡ì³ë§ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. SwiftëŠ” ë˜ íŠ¹ì • ë³€ìˆ˜ê°€ ë” ì´ìƒ í•„ìš”í•˜ì§€ ì•Šì„ ë•Œ ì œê±°í•˜ëŠ” ê²ƒê³¼ ê´€ë ¨í•œ ëª¨ë“  ë©”ëª¨ë¦¬ ê´€ë¦¬ë¥¼ ì•Œì•„ì„œ ì²˜ë¦¬í•©ë‹ˆë‹¤.

ì´ì œ ìœ„ ì¤‘ì²© í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```swift
let incrementByTen = makeIncrementer(forIncrement: 10)
```

`makeIncrementer`í•¨ìˆ˜ëŠ” í´ë¡œì €ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” `makeIncrementer` ë‚´ë¶€ì˜ `incrementer` í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ëŠ” ë©”ì†Œë“œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

```swift
incrementByTen()
// ê°’ìœ¼ë¡œ 10ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
incrementByTen()
// ê°’ìœ¼ë¡œ 20ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
incrementByTen()
// ê°’ìœ¼ë¡œ 30ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
```

í•¨ìˆ˜ê°€ ê°ê¸° ì‹¤í–‰ ë˜ì§€ë§Œ ì‹¤ì œë¡œëŠ” ë³€ìˆ˜ `runningTotal`ê³¼ `amount`ê°€ ìº¡ì³ë§ ë˜ì„œ ê·¸ ë³€ìˆ˜ë¥¼ ê³µìœ í•˜ê¸° ë•Œë¬¸ì— ê³„ì‚°ì´ ëˆ„ì ëœ ê²°ê³¼ë¥¼ ê°–ìŠµë‹ˆë‹¤. ë§Œì•½ ì•„ë˜ì™€ ê°™ì´ ìƒˆë¡œìš´ í´ë¡œì €ë¥¼ ìƒì„±í•˜ë©´ ì–´ë–»ê¹Œìš”?

```swift
let incrementBySeven = makeIncrementer(forIncrement: 7)
incrementBySeven()
// returns a value of 7
```

ë„¤, ë‹¤ë¥¸ í´ë¡œì €ì´ê¸° ë•Œë¬¸ì— ê³ ìœ ì˜ ì €ì¥ì†Œì— `runningTotal`ê³¼ `amount`ë¥¼ ìº¡ì³ë§ í•´ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ ë‹¤ë¥¸ ê°’ì´ ë‚˜ì˜µë‹ˆë‹¤. ê·¸ë ‡ë‹¤ë©´ ì—¬ê¸°ì„œ ì´ì „ì˜ í´ë¡œì €ë¥¼ ì‹¤í–‰í•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œìš”?

```swift
incrementByTen()
// ê°’ìœ¼ë¡œ 40ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
```

ë„¤, ë‹¤ë¥¸ í´ë¡œì €ì´ê¸° ë•Œë¬¸ì— ì—°ì‚°ì— ì „í˜€ ì˜í–¥ì´ ì—†ìŠµë‹ˆë‹¤. ê·¸ëƒ¥ ë‹¤ë¥¸ ì €ì¥ì†Œì˜ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•´ ê³„ì‚°í•©ë‹ˆë‹¤.

> ë§Œì•½ í´ë¡œì €ë¥¼ ì–´ë–¤ í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ì˜ í”„ë¡œí¼í‹°ë¡œ í• ë‹¹í•˜ê³  ê·¸ í´ë¡œì €ê°€ ê·¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìº¡ì³ë§í•˜ë©´ ê°•í•œ ìˆœí™˜ì°¸ì¡°ì— ë¹ ì§€ê²Œ ë©ë‹ˆë‹¤. ì¦‰, ì¸ìŠ¤í„´ìŠ¤ì˜ ì‚¬ìš©ì´ ëë‚˜ë„ ë©”ëª¨ë¦¬ë¥¼ í•´ì œí•˜ì§€ ëª»í•˜ëŠ” ê²ƒì´ì£ . ê·¸ë˜ì„œ SwiftëŠ” ì´ ë¬¸ì œë¥¼ ë‹¤ë£¨ê¸° ìœ„í•´ ìº¡ì³ ë¦¬ìŠ¤íŠ¸\(capture list\)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ë” ë§ì€ ì •ë³´ëŠ” **í´ë¡œì €ì˜ ê°•í•œ ì°¸ì¡° ìˆœí™˜**ì„ ì°¸ì¡°í•˜ì„¸ìš”.

## í´ë¡œì €ëŠ” ì°¸ì¡° íƒ€ì… \(Closures Are Reference Types\)

ì•ì˜ ì˜ˆì œì—ì„œ `incrementBySeven`ê³¼ `incrementByTen`ì€ ìƒìˆ˜ì…ë‹ˆë‹¤. ê·¸ëŸ°ë° ì–´ë–»ê²Œ `runningTotal`ë³€ìˆ˜ë¥¼ ê³„ì† ì¦ê°€ ì‹œí‚¬ ìˆ˜ ìˆëŠ” ê±¸ê¹Œìš”? ë‹µì€ í•¨ìˆ˜ì™€ í´ë¡œì €ëŠ” ì°¸ì¡° íƒ€ì…ì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. í•¨ìˆ˜ì™€ í´ë¡œì €ë¥¼ ìƒìˆ˜ë‚˜ ë³€ìˆ˜ì— í• ë‹¹í•  ë•Œ ì‹¤ì œë¡œëŠ” ìƒìˆ˜ì™€ ë³€ìˆ˜ì— í•´ë‹¹ í•¨ìˆ˜ë‚˜ í´ë¡œì €ì˜ ì°¸ì¡°\(reference\)ê°€ í• ë‹¹ ë©ë‹ˆë‹¤. ê·¸ë˜ì„œ ë§Œì•½ í•œ í´ë¡œì €ë¥¼ ë‘ ìƒìˆ˜ë‚˜ ë³€ìˆ˜ì— í• ë‹¹í•˜ë©´ ê·¸ ë‘ ìƒìˆ˜ë‚˜ ë³€ìˆ˜ëŠ” ê°™ì€ í´ë¡œì €ë¥¼ ì°¸ì¡°í•˜ê³  ìˆìŠµë‹ˆë‹¤. Cë‚˜ C++ì— ìµìˆ™í•˜ì‹  ë¶„ì€ í•¨ìˆ˜ í¬ì¸í„°ë¥¼ ì €ì¥í•œë‹¤ê³  ìƒê°í•˜ì‹œë©´ ì´í•´í•˜ê¸° ì‰¬ìš°ì‹¤ ê²ƒì…ë‹ˆë‹¤.

```swift
let alsoIncrementByTen = incrementByTen
alsoIncrementByTen()
// 50ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
```

ì•ì—ì„œ ì‚¬ìš©í–ˆë˜ í´ë¡œì €ë¥¼ ìƒìˆ˜ì— í• ë‹¹í•˜ê³  ì‹¤í–‰ì‹œí‚¤ë©´ ì‚¬ìš©í•œ í´ë¡œì €ì˜ ë§ˆì§€ë§‰ ìƒíƒœì—ì„œ 10ì„ ì¦ê°€ì‹œì¼œ ê²°ê³¼ ê°’ìœ¼ë¡œ 50ì„ ë°˜í™˜í•˜ê²Œ ë©ë‹ˆë‹¤.

## ì´ìŠ¤ì¼€ì´í•‘ í´ë¡œì € \(Escaping Closures\)

í´ë¡œì €ë¥¼ í•¨ìˆ˜ì˜ íŒŒë¼ë¯¸í„°ë¡œ ë„£ì„ ìˆ˜ ìˆëŠ”ë°, í•¨ìˆ˜ ë°–\(í•¨ìˆ˜ê°€ ëë‚˜ê³ \)ì—ì„œ ì‹¤í–‰ë˜ëŠ” í´ë¡œì € ì˜ˆë¥¼ë“¤ì–´, ë¹„ë™ê¸°ë¡œ ì‹¤í–‰ë˜ê±°ë‚˜ `completionHandler`ë¡œ ì‚¬ìš©ë˜ëŠ” í´ë¡œì €ëŠ” íŒŒë¼ë¯¸í„° íƒ€ì… ì•ì— `@escaping`ì´ë¼ëŠ” í‚¤ì›Œë“œë¥¼ ëª…ì‹œí•´ì•¼ í•©ë‹ˆë‹¤.

```swift
var completionHandlers: [() -> Void] = []
func someFunctionWithEscapingClosure(completionHandler: @escaping () -> Void) {
    completionHandlers.append(completionHandler)
}
```

ìœ„ í•¨ìˆ˜ì—ì„œ ì¸ìë¡œ ì „ë‹¬ëœ `completionHandler`ëŠ” `someFunctionWithEscapingClosure` í•¨ìˆ˜ê°€ ëë‚˜ê³  ë‚˜ì¤‘ì— ì²˜ë¦¬ ë©ë‹ˆë‹¤. ë§Œì•½ í•¨ìˆ˜ê°€ ëë‚˜ê³  ì‹¤í–‰ë˜ëŠ” í´ë¡œì €ì— `@escaping` í‚¤ì›Œë“œë¥¼ ë¶™ì´ì§€ ì•Šìœ¼ë©´ ì»´íŒŒì¼ì‹œ ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤.

`@escaping` ë¥¼ ì‚¬ìš©í•˜ëŠ” í´ë¡œì €ì—ì„œëŠ” `self`ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì–¸ê¸‰í•´ì•¼ í•©ë‹ˆë‹¤.

```swift
func someFunctionWithNonescapingClosure(closure: () -> Void) {
    closure()    // í•¨ìˆ˜ ì•ˆì—ì„œ ëë‚˜ëŠ” í´ë¡œì €
}

class SomeClass {
    var x = 10
    func doSomething() {
        someFunctionWithEscapingClosure { self.x = 100 } // ëª…ì‹œì ìœ¼ë¡œ selfë¥¼ ì ì–´ì¤˜ì•¼ í•©ë‹ˆë‹¤.
        someFunctionWithNonescapingClosure { x = 200 }
    }
}

let instance = SomeClass()
instance.doSomething()
print(instance.x)
// Prints "200"

completionHandlers.first?()
print(instance.x)
// Prints "100"
```

## ìë™í´ë¡œì € \(Autoclosures\)

ìë™í´ë¡œì €ëŠ” ì¸ì ê°’ì´ ì—†ìœ¼ë©° íŠ¹ì • í‘œí˜„ì„ ê°ì‹¸ì„œ ë‹¤ë¥¸ í•¨ìˆ˜ì— ì „ë‹¬ ì¸ìë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í´ë¡œì €ì…ë‹ˆë‹¤. ìë™í´ë¡œì €ëŠ” í´ë¡œì €ë¥¼ ì‹¤í–‰í•˜ê¸° ì „ê¹Œì§€ ì‹¤ì œ ì‹¤í–‰ì´ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ê³„ì‚°ì´ ë³µì¡í•œ ì—°ì‚°ì„ í•˜ëŠ”ë° ìœ ìš©í•©ë‹ˆë‹¤. ì™œëƒë©´ ì‹¤ì œ ê³„ì‚°ì´ í•„ìš”í•  ë•Œ í˜¸ì¶œë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì˜ˆì œë¥¼ ë³´ë©´ì„œ ë¬´ìŠ¨ ëœ»ì¸ì§€ ì•Œì•„ ë³´ê² ìŠµë‹ˆë‹¤.

```swift
var customersInLine = ["Chris", "Alex", "Ewa", "Barry", "Daniella"]
print(customersInLine.count)
// Prints "5"

let customerProvider = { customersInLine.remove(at: 0) }
print(customersInLine.count)
// Prints "5"

print("Now serving \(customerProvider())!")
// Prints "Now serving Chris!"
print(customersInLine.count)
// Prints "4"
```

ìœ„ ì˜ˆì œ ì½”ë“œë¥¼ ë³´ë©´ `let customerProvider = { customersInLine.remove(at: 0) }` ì´ í´ë¡œì € ì½”ë“œë¥¼ ì§€ë‚¬ìŒì—ë„ ë¶ˆêµ¬í•˜ê³  `customersInLine.count` ëŠ” ë³€í•¨ì—†ì´ 5ì¸ ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ê·¸ í´ë¡œì €ë¥¼ ì‹¤í–‰ì‹œí‚¨ `print("Now serving \(customerProvider())!")` ì´í›„ì—ì•¼ ë°°ì—´ì—ì„œ ê°’ì´ í•˜ë‚˜ ì œê±°ë˜ì–´ ë°°ì—´ì˜ ì›ì†Œ ê°œìˆ˜ê°€ 4ë¡œ ì¤„ì–´ë“  ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ë“¯ ìë™ í´ë¡œì €ëŠ” ì í˜€ì§„ ë¼ì¸ ìˆœì„œëŒ€ë¡œ ë°”ë¡œ ì‹¤í–‰ë˜ì§€ ì•Šê³ , ì‹¤ì œ ì‚¬ìš©ë  ë•Œ ì§€ì—° í˜¸ì¶œ ë©ë‹ˆë‹¤.

ìë™í´ë¡œì €ë¥¼ í•¨ìˆ˜ì˜ ì¸ì ê°’ìœ¼ë¡œ ë„£ëŠ” ì˜ˆì œëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

```swift
// customersInLine is ["Alex", "Ewa", "Barry", "Daniella"]
func serve(customer customerProvider: () -> String) {
    print("Now serving \(customerProvider())!")
}
serve(customer: { customersInLine.remove(at: 0) } )
// Prints "Now serving Alex!"
```

`serve`í•¨ìˆ˜ëŠ” ì¸ìë¡œ `() -> String)` í˜•, ì¦‰ ì¸ìê°€ ì—†ê³ , `String`ì„ ë°˜í™˜í•˜ëŠ” í´ë¡œì €ë¥¼ ë°›ëŠ” í•¨ìˆ˜ ì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ë•ŒëŠ” `serve(customer: { customersInLine.remove(at: 0) } )`ì´ì™€ ê°™ì´ í´ë¡œì €`{ customersInLine.remove(at: 0) }`ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì§ì ‘ ë„£ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ìœ„ ì˜ˆì œì—ì„œëŠ” í•¨ìˆ˜ì˜ ì¸ìë¡œ í´ë¡œì €ë¥¼ ë„£ì„ ë•Œ ëª…ì‹œì ìœ¼ë¡œ ë„£ëŠ” ê²½ìš°ì— ëŒ€í•´ ì•Œì•„ ë³´ì•˜ìŠµë‹ˆë‹¤. ìœ„ ì˜ˆì œë¥¼ `@autoclosure`í‚¤ì›Œë“œë¥¼ ì´ìš©í•´ì„œ ë³´ë‹¤ ê°„ê²°í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆì œë¥¼ ë³´ì‹œê² ìŠµë‹ˆë‹¤.

```swift
// customersInLine is ["Ewa", "Barry", "Daniella"]
func serve(customer customerProvider: @autoclosure () -> String) {
    print("Now serving \(customerProvider())!")
}
serve(customer: customersInLine.remove(at: 0))
// Prints "Now serving Ewa!"
```

`serve`í•¨ìˆ˜ì˜ ì¸ìë¥¼ ë°›ëŠ” ë¶€ë¶„ `customerProvider: @autoclosure ()` ì—ì„œ í´ë¡œì €ì˜ ì¸ì`()`ì•ì— `@autoclosure`ë¼ëŠ” í‚¤ì›Œë“œë¥¼ ë¶™ì˜€ìŠµë‹ˆë‹¤. ì´ í‚¤ì›Œë“œë¥¼ ë¶™ì„ìœ¼ë¡œì¨ ì¸ì ê°’ì€ ìë™ìœ¼ë¡œ í´ë¡œì €ë¡œ ë³€í™˜ë©ë‹ˆë‹¤. ê·¸ë˜ì„œ í•¨ìˆ˜ì˜ ì¸ì ê°’ì„ ë„£ì„ ë•Œ í´ë¡œì €ê°€ ì•„ë‹ˆë¼ í´ë¡œì €ê°€ ë°˜í™˜í•˜ëŠ” ë°˜í™˜ ê°’ê³¼ ì¼ì¹˜í•˜ëŠ” í˜•ì˜ í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ë„£ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ `serve(customer: { customersInLine.remove(at: 0) } )` ì´ëŸ° ì½”ë“œë¥¼ `@autoclosure`í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í–ˆê¸° ë•Œë¬¸ì— `serve(customer: customersInLine.remove(at: 0))` ì´ë ‡ê²Œ `{}` ì—†ì´ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì •ë¦¬í•˜ë©´ í´ë¡œì € ì¸ìì— `@autoclosure`ë¥¼ ì„ ì–¸í•˜ë©´ í•¨ìˆ˜ê°€ ì´ë¯¸ í´ë¡œì € ì¸ê²ƒì„ ì•Œê¸° ë•Œë¬¸ì— ë¦¬í„´ê°’ íƒ€ì…ê³¼ ê°™ì€ ê°’ì„ ë„£ì–´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

> NOTE ìë™í´ë¡œì €ë¥¼ ë„ˆë¬´ ë‚¨ìš©í•˜ë©´ ì½”ë“œë¥¼ ì´í•´í•˜ê¸° ì–´ë ¤ì›Œ ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ë¬¸ë§¥ê³¼ í•¨ìˆ˜ ì´ë¦„ì´ `autoclosure`ë¥¼ ì‚¬ìš©í•˜ê¸°ì— ë¶„ëª…í•´ì•¼ í•©ë‹ˆë‹¤.

ìë™í´ë¡œì €`@autoclosure`ëŠ” ì´ìŠ¤ì¼€ì´í”„`@escaping`ì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë™ì‘ì— ëŒ€í•œ ì„¤ëª…ì€ ì½”ë“œì— ì§ì ‘ ì£¼ì„ì„ ë‹¬ì•˜ìŠµë‹ˆë‹¤.

```swift
// customersInLine is ["Barry", "Daniella"]
var customerProviders: [() -> String] = []        //  í´ë¡œì €ë¥¼ ì €ì¥í•˜ëŠ” ë°°ì—´ì„ ì„ ì–¸
func collectCustomerProviders(_ customerProvider: @autoclosure @escaping () -> String) {
    customerProviders.append(customerProvider)
} // í´ë¡œì €ë¥¼ ì¸ìë¡œ ë°›ì•„ ê·¸ í´ë¡œì €ë¥¼ customerProviders ë°°ì—´ì— ì¶”ê°€í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì„ ì–¸
collectCustomerProviders(customersInLine.remove(at: 0))    // í´ë¡œì €ë¥¼ customerProviders ë°°ì—´ì— ì¶”ê°€
collectCustomerProviders(customersInLine.remove(at: 0))

print("Collected \(customerProviders.count) closures.")
// Prints "Collected 2 closures."        // 2ê°œì˜ í´ë¡œì €ê°€ ì¶”ê°€ ë¨
for customerProvider in customerProviders {
    print("Now serving \(customerProvider())!")    // í´ë¡œì €ë¥¼ ì‹¤í–‰í•˜ë©´ ë°°ì—´ì˜ 0ë²ˆì§¸ ì›ì†Œë¥¼ ì œê±°í•˜ë©° ê·¸ ê°’ì„ ì¶œë ¥
}
// Prints "Now serving Barry!"
// Prints "Now serving Daniella!"
```

`collectCustomerProviders`í•¨ìˆ˜ì˜ ì¸ì `customerProvider`ëŠ” `@autoclosure`ì´ë©´ì„œ `@escaping`ë¡œ ì„ ì–¸ë˜ì—ˆìŠµë‹ˆë‹¤. `@autoclosure`ë¡œ ì„ ì–¸ëê¸° ë•Œë¬¸ì— í•¨ìˆ˜ì˜ ì¸ìë¡œ ë¦¬í„´ê°’ `String`ë§Œ ë§Œì¡±í•˜ëŠ” `customersInLine.remove(at: 0)`í˜•íƒœë¡œ í•¨ìˆ˜ ì¸ìì— ë„£ì„ ìˆ˜ ìˆê³ , ì´ í´ë¡œì €ëŠ” `collectCustomerProviders`í•¨ìˆ˜ê°€ ì¢…ë£Œëœ í›„ì— ì‹¤í–‰ë˜ëŠ” í´ë¡œì € ì´ê¸° ë•Œë¬¸ì— ì¸ì ì•ì— `@escaping` í‚¤ì›Œë“œë¥¼ ë¶™ì—¬ì£¼ì—ˆìŠµë‹ˆë‹¤.

